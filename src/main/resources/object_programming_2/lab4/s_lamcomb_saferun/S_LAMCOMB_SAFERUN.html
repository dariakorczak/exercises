<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1250"><title>S_LAMCOMB_SAFERUN</title></head>
<body><h2>Zadanie badawczo-analityczne:&nbsp;</h2><h2>klasa InputConverter - bezpieczeñstwo fazy wykonania</h2>Zobaczmy przyk³adowy fragment z poprzedniego zadania:<br><pre>  public static void main(String[] args) {<br>    /*<br>     *  definicja operacji w postaci lambda-wyra¿eñ:<br>     *  - flines - zwraca listê wierszy z pliku tekstowego<br>     *  - join - ³¹czy napisy z listy (zwraca napis po³¹czonych ze sob¹ elementów listy napisów)<br>     *  - collectInts - zwraca listê liczb ca³kowitych zawartych w napisie<br>     *  - sum - zwraca sumê elmentów listy liczb ca³kowitych<br>     */<br><br>    String fname = System.getProperty("user.home") + "/LamComFile.txt"; <br>    InputConverter&lt;String&gt; fileConv = new InputConverter&lt;&gt;(fname);<br>    List&lt;String&gt; lines = fileConv.convertBy(flines);<br>    String text = fileConv.convertBy(flines, join);<br>    List&lt;Integer&gt; ints = fileConv.convertBy(flines, join, collectInts);<br>    Integer sumints = fileConv.convertBy(flines, join, collectInts, sum);<br><br>    System.out.println(lines);<br>    System.out.println(text);<br>    System.out.println(ints);<br>    System.out.println(sumints);<br><br>    List&lt;String&gt; arglist = Arrays.asList(args);<br>    InputConverter&lt;List&lt;String&gt;&gt; slistConv = new InputConverter&lt;&gt;(arglist);  <br>    sumints = slistConv.convertBy(join, collectInts, sum);<br>    System.out.println(sumints);<br>  }<br><br></pre>Przy powierzchownej konstrukcji klasy InputConverter i metody &nbsp;convertBy&nbsp; nastêpuj¹cy fragment:<br><br>&nbsp;&nbsp;&nbsp; slistConv.convertBy(collectInts, sum);&nbsp;<br><br>&nbsp;spowoduje powstanie wyj¹tku ClassCastException<br><br><span style="font-weight: bold;">Zadania badawcze</span>:<br>&nbsp;jak temu zaradziæ w fazie wykonania programu, tak by uzyskiwaæ operacyjne wyniki (i nigdy NullPointerException)<br><br>To wymaga odpowiedniej definicji klasy InputConverter oraz ew. modyfikacji klasy Main (s¹ tu dozwolone) .<br><br><br>
</body></html>